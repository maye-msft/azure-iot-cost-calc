(function(t){function e(e){for(var r,i,o=e[0],c=e[1],u=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},s=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"2d6f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("v-app-bar",{attrs:{app:"",dense:"",color:"deep-purple",dark:""}},[n("v-toolbar-title",[t._v("Azure IoT Cost Estimation")]),n("v-spacer")],1),n("v-content",[n("Calc")],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Layout",{attrs:{resize:!0,edit:!0,splits:t.tree}},[n("div",{staticClass:"view1"},[n("v-subheader",[t._v("Num of Tenant")]),n("v-card-text",{staticClass:"pt-0"},[n("v-slider",{staticClass:"align-center",attrs:{max:t.tenantMax,min:t.tenantMin,"hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.tenant,callback:function(e){t.tenant=e},expression:"tenant"}})]},proxy:!0}]),model:{value:t.tenant,callback:function(e){t.tenant=e},expression:"tenant"}})],1),n("v-subheader",[t._v("Num of Device Per Tenant")]),n("v-card-text",{staticClass:"pt-0"},[n("v-slider",{staticClass:"align-center",attrs:{max:t.deviceMax,min:t.deviceMin,"hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.device,callback:function(e){t.device=e},expression:"device"}})]},proxy:!0}]),model:{value:t.device,callback:function(e){t.device=e},expression:"device"}})],1),n("v-subheader",[t._v("Message Size (KB)")]),n("v-card-text",{staticClass:"pt-0"},[n("v-slider",{staticClass:"align-center",attrs:{max:t.msgSizeMax,min:t.msgSizeMin,"hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.msgSize,callback:function(e){t.msgSize=e},expression:"msgSize"}})]},proxy:!0}]),model:{value:t.msgSize,callback:function(e){t.msgSize=e},expression:"msgSize"}})],1),n("v-subheader",[t._v("Occurrency (minute/device)")]),n("v-card-text",{staticClass:"pt-0"},[n("v-slider",{staticClass:"align-center",attrs:{max:t.occurrencyMax,min:t.occurrencyMin,"hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.occurrency,callback:function(e){t.occurrency=e},expression:"occurrency"}})]},proxy:!0}]),model:{value:t.occurrency,callback:function(e){t.occurrency=e},expression:"occurrency"}})],1),n("v-subheader",[t._v("Azure SQL vCore Per Tenant")]),n("v-card-text",{staticClass:"pt-0"},[n("v-slider",{staticClass:"align-center",attrs:{max:t.sqlVCoreMax,min:t.sqlVCoreMin,step:.25,"hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.sqlVCore,callback:function(e){t.sqlVCore=e},expression:"sqlVCore"}})]},proxy:!0}]),model:{value:t.sqlVCore,callback:function(e){t.sqlVCore=e},expression:"sqlVCore"}})],1),n("v-subheader",[t._v("Stream Job Unit Per Tenant")]),n("v-card-text",{staticClass:"pt-0"},[n("v-slider",{staticClass:"align-center",attrs:{max:t.streamJobUnitMax,min:t.streamJobUnitMin,step:.25,"hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.streamJobUnit,callback:function(e){t.streamJobUnit=e},expression:"streamJobUnit"}})]},proxy:!0}]),model:{value:t.streamJobUnit,callback:function(e){t.streamJobUnit=e},expression:"streamJobUnit"}})],1)],1),n("Pane",{attrs:{title:"Price & Configurations"}},[n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v("Service")]),n("th",{staticClass:"text-center"},[t._v(" Shared "),n("br"),t._v("Configurations ")]),n("th",{staticClass:"text-left"},[t._v(" Shared "),n("br"),t._v("Unit ")]),n("th",{staticClass:"text-left"},[t._v(" Shared "),n("br"),t._v("Price Per Tenant ")]),n("th",{staticClass:"text-left"},[t._v(" Shared "),n("br"),t._v("Total Price ")]),n("th",{staticClass:"text-center"},[t._v(" Dedicated "),n("br"),t._v("Configurations ")]),n("th",{staticClass:"text-left"},[t._v(" Dedicated "),n("br"),t._v("Unit ")]),n("th",{staticClass:"text-left"},[t._v(" Dedicated "),n("br"),t._v("Price Per Tenant ")]),n("th",{staticClass:"text-left"},[t._v(" Dedicated "),n("br"),t._v("Total Price ")])])]),n("tbody",[n("tr",[n("td",[t._v("IoT Hub")]),n("td",[t._v(t._s(t.unitOfIoTHub.name))]),n("td",[t._v(t._s(t.unitOfIoTHub.unit))]),n("td",[t._v(t._s(Math.round(t.unitOfIoTHub.costOfIoTHub/t.tenant)))]),n("td",[t._v(t._s(t.unitOfIoTHub.costOfIoTHub))]),n("td",[t._v(t._s(t.singleTenantUnitOfIoTHub.name))]),n("td",[t._v(t._s(t.singleTenantUnitOfIoTHub.unit))]),n("td",[t._v(t._s(t.singleTenantUnitOfIoTHub.costOfIoTHub))]),n("td",[t._v(t._s(t.singleTenantUnitOfIoTHub.costOfIoTHub*t.tenant))])]),n("tr",[n("td",[t._v("Event Hub")]),n("td",[t._v("-")]),n("td",[t._v(t._s(t.unitOfEventHub))]),n("td",[t._v(t._s(Math.round(t.costOfEventHub/t.tenant)))]),n("td",[t._v(t._s(t.costOfEventHub))]),n("td",[t._v("-")]),n("td",[t._v(t._s(t.singleTenantUnitOfEventHub))]),n("td",[t._v(t._s(t.singleTenantCostOfEventHub))]),n("td",[t._v(t._s(t.singleTenantCostOfEventHub*t.tenant))])]),n("tr",[n("td",[t._v("Stream Analytics Job")]),n("td",[t._v("-")]),n("td",[t._v(t._s(t.unitOfStreamJob))]),n("td",[t._v(t._s(Math.round(t.costOfStreamJob/t.tenant)))]),n("td",[t._v(t._s(t.costOfStreamJob))]),n("td",[t._v("-")]),n("td",[t._v(t._s(t.singleTenantUnitOfStreamJob))]),n("td",[t._v(t._s(t.singleTenantCostOfStreamJob))]),n("td",[t._v(t._s(t.singleTenantCostOfStreamJob*t.tenant))])]),n("tr",[n("td",[t._v("Azure SQL Database")]),n("td",[t._v(t._s(t.instanceOfSql.vCore)+" vCore")]),n("td",[t._v(t._s(t.instanceOfSql.numOfSqlInstance))]),n("td",[t._v(t._s(Math.round(t.instanceOfSql.totalCost/t.tenant)))]),n("td",[t._v(t._s(Math.round(t.instanceOfSql.totalCost)))]),n("td",[t._v(t._s(t.singleTenantInstanceOfSql.vCore)+" vCore")]),n("td",[t._v(t._s(t.singleTenantInstanceOfSql.numOfSqlInstance))]),n("td",[t._v(t._s(Math.round(t.singleTenantInstanceOfSql.totalCost)))]),n("td",[t._v(t._s(Math.round(t.singleTenantInstanceOfSql.totalCost)*t.tenant))])]),n("tr",[n("td",[n("b",[t._v("Total")])]),n("td",[t._v("-")]),n("td",[t._v("-")]),n("td",[t._v(t._s(t.sharedPerTenant))]),n("td",[t._v(t._s(t.sharedTotal))]),n("td",[t._v("-")]),n("td",[t._v("-")]),n("td",[t._v(t._s(t.dedicatedPerTenant))]),n("td",[t._v(t._s(t.dedicatedPerTenant*t.tenant))])])])]},proxy:!0}])})],1),n("Pane",{attrs:{title:"Price Comparison Shared v.s. Dedicated"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("v-card",{attrs:{flat:""}},[n("v-chart",{attrs:{options:t.totalCost,autoresize:!0}})],1)],1),n("v-col",[n("v-card",{attrs:{flat:""}},[n("v-chart",{attrs:{options:t.tenantCost,autoresize:!0}})],1)],1)],1)],1)],1)},o=[],c=(n("4160"),n("b0c0"),n("159b"),n("0bcd")),u=n("9ca8"),l=(n("94b1"),4),d={components:{"v-chart":u["a"],Layout:c["Layout"],Pane:c["Pane"]},data:function(){for(var t=[],e=0;e<=360;e++){var n=e/180*Math.PI,r=Math.sin(2*n)*Math.cos(2*n);t.push([r,e])}return{tree:{dir:"horizontal",first:0,second:{dir:"vertical",first:1,second:2,split:"55%"},split:"20%"},tab:"",tenantMin:1,tenantMax:100,tenant:10,deviceMin:1,deviceMax:1e3,device:100,msgSizeMin:1,msgSizeMax:20,msgSize:.5,occurrencyMax:200,occurrencyMin:1,occurrency:60,sqlVCoreMax:20,sqlVCoreMin:.25,sqlVCore:.5,streamJobUnitMax:20,streamJobUnitMin:.25,streamJobUnit:.5,iotHubSpec:"",iotHubUnit:0,iotHubPrice:0,iotHubTotalPrice:0,eventHubSpec:"",eventHubUnit:0,eventHubPrice:0,eventHubTotalPrice:0,streamAnalyticsSpec:"",streamAnalyticsUnit:0,streamAnalyticsPrice:0,streamAnalyticsTotalPrice:0,azureSQLSpec:"",azureSQLUnit:0,azureSQLPrice:0,azureSQLTotalPrice:0,tenantPrice:0,totalPrice:0,currrency:"USD",iothub_sku:[{name:"S1",msgPerSecond:12,msgSize:4,msgPerDay:4e5,price:25},{name:"S2",msgPerSecond:120,msgSize:4,msgPerDay:6e6,price:250},{name:"S3",msgPerSecond:6e3,msgSize:4,msgPerDay:3e8,price:2500}],eventhub_sku:{ingress_MB:1,egress_MB:2,pricePerHour:.03},streamjob_sku:{unit_hour:.11},sql_sku:[{vCore:2,price_hour:.5044},{vCore:2,price_hour:.5044},{vCore:4,price_hour:1.0088},{vCore:6,price_hour:1.5131},{vCore:8,price_hour:2.0175},{vCore:10,price_hour:2.5219},{vCore:12,price_hour:3.0262},{vCore:14,price_hour:3.5306},{vCore:16,price_hour:4.035},{vCore:18,price_hour:4.5393},{vCore:20,price_hour:5.0437},{vCore:24,price_hour:6.0524},{vCore:32,price_hour:8.0699},{vCore:40,price_hour:10.0874},{vCore:80,price_hour:20.1747}]}},computed:{numOfMsgPerDay:function(){return 60*this.occurrency*24*this.tenant*this.device},numOfMsgForIoTHubPerDay:function(){return 60*this.occurrency*24*Math.ceil(this.msgSize/l)*this.tenant*this.device},singleTenantNumOfMsgForIoTHubPerDay:function(){return 60*this.occurrency*24*Math.ceil(this.msgSize/l)*1*this.device},sizeOfMsgForPerDay_KB:function(){return this.numOfMsgPerDay*this.msgSize},sizeOfMsgForPerDay_MB:function(){return Math.round(this.sizeOfMsgForPerDay_KB/1024)},sizeOfMsgForPerDay_GB:function(){return Math.round(this.sizeOfMsgForPerDay_MB/1024)},unitOfIoTHub:function(){return this.calcUnitOfIoTHub(this.tenant,this.numOfMsgForIoTHubPerDay)},singleTenantUnitOfIoTHub:function(){return this.calcUnitOfIoTHub(1,this.singleTenantNumOfMsgForIoTHubPerDay)},unitOfEventHub:function(){return Math.ceil(this.occurrency*this.device*this.msgSize/60/1024/this.eventhub_sku.ingress_MB)*this.tenant},costOfEventHub:function(){return Math.round(this.unitOfEventHub*this.eventhub_sku.pricePerHour*24*30)},singleTenantUnitOfEventHub:function(){return 1*Math.ceil(this.occurrency*this.device*this.msgSize/60/1024/this.eventhub_sku.ingress_MB)},singleTenantCostOfEventHub:function(){return Math.round(this.singleTenantUnitOfEventHub*this.eventhub_sku.pricePerHour*24*30)},unitOfStreamJob:function(){return Math.ceil(Math.max(3,this.tenant*this.streamJobUnit))},costOfStreamJob:function(){return Math.round(this.unitOfStreamJob*this.streamjob_sku.unit_hour*24*30)},singleTenantUnitOfStreamJob:function(){return Math.ceil(Math.max(3,1*this.streamJobUnit))},singleTenantCostOfStreamJob:function(){return Math.round(this.singleTenantUnitOfStreamJob*this.streamjob_sku.unit_hour*24*30)},instanceOfSql:function(){return this.tenantPerSQLInstance(this.tenant)},singleTenantInstanceOfSql:function(){return this.tenantPerSQLInstance(1)},sharedPerTenant:function(){return Math.round((this.unitOfIoTHub.costOfIoTHub+this.costOfEventHub+this.costOfStreamJob+this.instanceOfSql.totalCost)/this.tenant)},sharedTotal:function(){return Math.round(this.unitOfIoTHub.costOfIoTHub+this.costOfEventHub+this.costOfStreamJob+this.instanceOfSql.totalCost)},dedicatedPerTenant:function(){return Math.round(this.singleTenantUnitOfIoTHub.costOfIoTHub+this.singleTenantCostOfEventHub+this.singleTenantCostOfStreamJob+this.singleTenantInstanceOfSql.totalCost)},totalCost:function(){return{legend:{},tooltip:{},dataset:{dimensions:["product","Shared","Dedicated"],source:[{product:"Cost In Total",Shared:this.sharedTotal,Dedicated:this.dedicatedPerTenant*this.tenant}]},seriesLayoutBy:"row",xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"}],label:{show:!0}}},tenantCost:function(){return{legend:{},tooltip:{},dataset:{dimensions:["product","Shared","Dedicated"],source:[{product:"Cost Per Tenant",Shared:this.sharedPerTenant,Dedicated:this.dedicatedPerTenant}]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"}],label:{show:!0}}}},methods:{calc:function(){console.log(this.tenant)},tenantPerSQLInstance:function(t){var e=0,n=0,r=0,a=this;return this.sql_sku.forEach((function(s){if(s.vCore>=a.sqlVCore){var i=Math.floor(s.vCore/a.sqlVCore),o=Math.ceil(t/i);(0==e||e>=o*s.price_hour&&r>o)&&(e=o*s.price_hour,r=o,n=s.vCore)}})),{vCore:n,numOfSqlInstance:r,cost:e,totalCost:24*e*30}},calcUnitOfIoTHub:function(t,e){var n=this,r=[];this.iothub_sku.forEach((function(a){var s=Math.ceil(t*n.device*n.occurrency/(60*a.msgPerSecond)),i=Math.ceil(e/a.msgPerDay),o=Math.max(s,i);r.push({name:a.name,price:a.price,unit:o})}));var a=0,s=r[0];return a=r[0].price*r[0].unit,r.forEach((function(t){var e=Math.min(a,t.price*t.unit);e==t.price*t.unit&&(s=t)})),s.costOfIoTHub=s.price*s.unit,s}}},f=d,v=(n("975e"),n("2877")),h=n("6544"),p=n.n(h),b=n("b0af"),_=n("99d9"),m=n("62ad"),S=n("0fd9"),g=n("1f4f"),y=n("ba0d"),C=n("e0c7"),O=n("8654"),T=Object(v["a"])(f,i,o,!1,null,null,null),x=T.exports;p()(T,{VCard:b["a"],VCardText:_["a"],VCol:m["a"],VRow:S["a"],VSimpleTable:g["a"],VSlider:y["a"],VSubheader:C["a"],VTextField:O["a"]});var M={name:"App",components:{Calc:x},data:function(){return{}}},P=M,H=n("7496"),I=n("40dc"),k=n("a75b"),z=n("2fa4"),U=n("2a7f"),J=Object(v["a"])(P,a,s,!1,null,null,null),q=J.exports;p()(J,{VApp:H["a"],VAppBar:I["a"],VContent:k["a"],VSpacer:z["a"],VToolbarTitle:U["a"]});var D=n("f309");r["default"].use(D["a"]);var V=new D["a"]({});r["default"].config.productionTip=!1,new r["default"]({vuetify:V,render:function(t){return t(q)}}).$mount("#app")},"975e":function(t,e,n){"use strict";var r=n("2d6f"),a=n.n(r);a.a}});
//# sourceMappingURL=app.92ce415d.js.map